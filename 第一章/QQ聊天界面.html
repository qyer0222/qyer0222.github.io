<!DOCTYPE html >
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>无标题文档</title>
		<style type="text/css">
			ul,
			ol {
				margin: 0;
				padding: 0;
			}
			
			li {
				list-style: none;
			}
			
			a {
				text-decoration: none;
				color: black;
				width: 100%;
				text-align: center;
			}
			
			h2 {
				margin: 0;
				background: url(img/right.gif) no-repeat 10px center #63F7FF;
				padding-left: 20px;
				line-height: 30px;
			}
			
			ul {
				border: 1px solid black;
				width: 150px;
			}
			
			ol {
				display: none;
			}
			
			ol li {
				line-height: 20px;
				border-top: 1px solid black;
				text-align: center;
				display: block;
				cursor: pointer;
			}
			
			ol li:nth-child(1) {
				border: none;
			}
			
			ol li.active {
				background-color: #63F7FF;
			}
			
			h2.active {
				background: url(img/down.gif) no-repeat 8px center #F7F794;
			}
			
			h2.active+ol {
				display: block;
			}
		</style>
	</head>

	<body>
		<ul id="list">
			<li>
				<h2><a href="javascript:;">我的好友</a></h2>
				<ol>
					<li>张三</li>
					<li>张三</li>
					<li>张三</li>
					<li>张三</li>
				</ol>
			</li>
			<li>
				<h2><a href="javascript:;">企业好友</a></h2>
				<ol>
					<li>李四</li>
					<li>李四</li>
					<li>李四</li>
					<li>李四</li>
					<li>李四</li>
				</ol>
			</li>
			<li>
				<h2><a href="javascript:;">黑名单</a></h2>
				<ol>
					<li>钟毅</li>
					<li>钟毅</li>
					<li>钟毅</li>
				</ol>
			</li>
		</ul>
		<script>
			var h2s = document.getElementsByTagName('h2');
			var ev = null;
			//定义ev变量为空;
			for (var i = 0; i < h2s.length; i++) {
				h2s[i].onff = true;
				//自定义变量onff=true;
				h2s[i].onclick = function() {
					if (this.onff) {
						if (ev) {
							ev.className = '';
							ev.onff = true;
						}
						//ev作为当前按钮的前一个状态，并清空，ev.onff=true;可以解决点击当前按钮
						//如果是ev有内容重置ev.onff为true;
						this.className = 'active'
						this.onff = false;
						//控制开关为false，点击后定义classname
					} else {
						this.className = ''
						this.onff = true;
					}
					ev = this;
					//ev等于this,每次访问,都相当于访问之前的那个按钮的状态
				}
			}
		</script>
	</body>

</html>